extends layout

block content
  div.main(style="width: 100%; height:100%; z-index:99; overflow:hidden;")
  div(style="position: absolute; top:0px; bottom:0px; left:0px; right:0px; background: url('icons/abstract-glowing-orange-background.jpg'); background-size: cover;  background-repeat: no-repeat;")
    h1#header &nbsp; Speech to Text
      div(style="position:absolute; top:1px; height:60px; width:200px; color:white; right:0px; opacity:1.0")
        img(src='/icons/PNGPIX-COM-Microsoft-Logo-PNG-Transparent.png' style='height:45px; width:180px;')  
    div(style="width:400px; top:60px; bottom:0px; background-color:black; color:white; border:solid; opacity:0.7; position:absolute; border:2px solid #fff; margin:10px;padding:10px")
      div.tab#tab
        button.tablinks#tab1(onclick="showTab(event, 'fileFrame', 'tab1')" value="File") Audio File
        button.tablinks#tab2(onclick="showTab(event, 'microphoneFrame', 'tab2')" value="Microphone") Microphone
      div.tabcontent#fileFrame(style="position:absolute; top:56px; left:10px; right:8px; bottom:10px;")
        div(style="position:absolute; width:380px; height:380px; top:30px;")
          div#droparea
              div#dropareainner
                p
                img(src='/icons/wav.svg' style='width:96; height:96px; margin-top:10px; margin-bottom:20px;')
                p#dropfiletext Drop 'wav' file here
                p or
                p
                  input#uploadbtn(class='uploadbtn' type='button' value="Select File")
                input#upload(type='file')
        div#uploadWait(style='display:none')
          div(style="position:absolute; left:27%; top:50%")
            div#uploadProgress(class="c100 p0 big blue")
              span#percentage 0%
              div.slice
                div.bar
                div.fill       
        div#waitImage(style="position:absolute; left:30%; bottom:60px; height:60px; color:white; display:none;")
          img(src='/icons/103.gif')  
        label#filename(style="position:absolute; left:20px; bottom:20px; height:60px; text-overflow: ellipsis; width:280px; color:white;")

        div#controls(style='display:none')
          audio#audioPlayer(controls style="position:absolute; bottom:25px; width:260px;") 
          input#playbtn(type='button' value="Transcribe" style="position:absolute; bottom:22px; width:90px; left:280px;")
      div.tabcontent#microphoneFrame(style='display:none;position:absolute; top:56px; left:10px; right:8px; bottom:10px;')
        div.action(style="position:absolute; width:360px; height:380px; top:20px;")
          img#microphoneImage(src='/icons/muted.svg' style='width:128px; height:128px; margin-top:40px; margin-bottom:20px;')
          input#microphonebtn(type='button' value="Microphone On" style="position:absolute; padding:5px; font-weight:bold; top:300px; left:120px;")
        div#recordImage(style="position:absolute; left:30%; bottom:60px; height:60px; color:white; display:none;")
          img(src='/icons/103.gif')  
 
    div#transcription(style="left:430px; right:0px; top:60px; bottom:0px; background-color:black; color:white; border:solid; opacity:0.7; position:absolute; border:2px solid #fff; margin:10px;padding:10px; overflow-y:auto;")

  script.
    var key = '!{key}';

  script(src="/modules/jquery/dist/jquery.min.js" )
  script(src="/modules/microsoft-speech-browser-sdk/distrib/speech.sdk.bundle.js")
  script(src="/javascripts/main.js")

